<!doctype html><html class=no-js lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Incrustar texto externo en Hugo - Sherblog</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Como incrustar texto de un archivo externo dentro de un post en Hugo"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://www.sherblog.pro/images/20210421_hugo_incrustar_texto_00.jpg"><meta name=twitter:title content="Incrustar texto externo en Hugo"><meta name=twitter:description content="Como incrustar texto de un archivo externo dentro de un post en Hugo"><meta name=twitter:creator content="@sherblogpro"><meta name=twitter:site content="sherblog.pro"><meta property="og:type" content="article"><meta property="og:locale" content="es_ES"><meta property="og:site_name" content="sherblog.pro"><meta property="og:locale" content="es_ES"><meta property="og:title" content="Incrustar texto externo en Hugo"><meta property="og:url" content="https://sherlockes.github.io"><meta property="og:description" content="Como incrustar texto de un archivo externo dentro de un post en Hugo"><meta property="og:image" content="http://www.sherblog.pro/images/20210421_hugo_incrustar_texto_00.jpg"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><meta name=twitter:card content="summary"><meta name=twitter:title content="Incrustar texto externo en Hugo"><meta name=twitter:description content="Como incrustar texto de un archivo externo dentro de un post en Hugo"><div class=container><div class=logo><a class=logo__link href=/ title=Sherblog rel=home><div class=logo__title>Sherblog</div><div class=logo__tagline>Sólo mi forma de hacer las cosas...</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menú</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/post/computing/emacs/><span class=menu__text>Emacs</span></a></li><li class="menu__item menu__item--active"><a class=menu__link href=/post/computing/hugo/><span class=menu__text>Hugo</span></a></li><li class=menu__item><a class=menu__link href=/mis-v%C3%A9rtices-geod%C3%A9sicos/><span class=menu__text>Mis vértices geodésicos</span></a></li><li class=menu__item><a class=menu__link href=/post/computing/raspberry/><span class=menu__text>Raspberry Pi desde cero</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Incrustar texto externo en Hugo</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2022-03-25T00:00:00Z>2022-03-25</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/hugo/ rel=category>hugo</a></span></div></div></header><figure class="post__thumbnail thumbnail"><img class=thumbnail__image src=/images/20210421_hugo_incrustar_texto_00.jpg alt="Incrustar texto externo en Hugo"></figure><div class="content post__content clearfix"><p>Hace tiempo que vengo pensando en la capacidad de poder introducir texto desde un archivo externo dentro de los post que publico en <a href=https://gohugo.io>Hugo</a>. Hoy se me ha encendido la bombilla.</p><p><strong>Actualización:</strong> Inclusión de texto desde un servidor remoto.</p><p>Una potente herramienta que posee <a href=https://gohugo.io>Hugo</a> es la posibilidad de uso de <a href=https://gohugo.io/content-management/shortcodes/>Shortcodes</a> (Fragmentos simples dentro de los archivos de contenido que llaman a plantillas integradas o personalizadas), pero más potente todavía es el uso de <a href=https://gohugo.io/templates/shortcode-templates/>Shortcodes personalizados</a> que ya he utilizado en otras ocasiones como en mi proyecto de <a href=https://sherblog.pro/mis-v%C3%A9rtices-geod%C3%A9sicos-en-hugo/>Vértices Geodésicos</a>.</p><h3 id=desde-el-propio-servidor>Desde el propio servidor</h3><p>Es posible utilizar esta característica para crear un Shortcode que incluya en el post el texto contenido en un archivo de texto externo que esté alojado en el propio servidor sin más que escribir una línea de código.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>pre</span>&gt;&lt;<span style=color:#f92672>code</span>&gt;&lt;<span style=color:#f92672>embed</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{.Get 0}}&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;100%&#34;</span>&gt;&lt;/<span style=color:#f92672>code</span>&gt;&lt;/<span style=color:#f92672>pre</span>&gt;
</span></span></code></pre></div><p>Esta línea la incluiremos en un archivo llamado &ldquo;texto_externo.html&rdquo; que guardaremos en la carpeta &ldquo;layouts/shortcodes&rdquo;</p><blockquote><p>Crearemos esta carpeta (Si no lo está) en la raiz del blog (junto a &ldquo;content&rdquo;, &ldquo;static&rdquo;&mldr;) en lugar de insertar el archivo dentro de la carpeta del tema para evitar que destruya este shortcode co una actualizació del tema.</p></blockquote><p>Ahora ya sólo resta insertar el siguiente código en la zona del post o la página donde queramos incluir el texto del archivo externo.</p><pre tabindex=0><code>{{&lt; texto_externo &#34;/archivo.md&#34; &gt;}}
</code></pre><p>Para que se cargue correctamente, el archivo deberá alojarse en la carpeta &ldquo;static&rdquo; ya que es lo que <a href=https://gohugo.io>Hugo</a> entiende como la raíz de los documentos en el Blog.</p><h3 id=desde-un-servidor-externo>Desde un servidor externo</h3><p>Muchas veces me encuentro con la necesidad de incluir en un post código de github que no quiero tener que estar pendiente de actualizar cuando este se modifique. Como este método no funciona si queremos incluir texto desde un servidor remoto por lo que he creado un segundo &ldquo;shortcut&rdquo; gracias a una herramienta de <a href=https://quinncasey.com/tools/hugo-remote-content-from-url/>Quinn Casey</a> que he duplicado en <a href=https://workers.cloudflare.com>Cloudflare Workers</a> de forma gratuita. Para realizar esta función crearemos el archivo &ldquo;texto_remoto.html&rdquo; en la carpeta &ldquo;shortcodes&rdquo; con el siguiente contenido:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{- $remote_url := (.Get 0) -}}
</span></span><span style=display:flex><span>{{- $remote_data := getJSON &#34;https://texto-remoto.sherlockes.workers.dev/fetch?url=&#34; $remote_url -}}
</span></span><span style=display:flex><span>{{- with $remote_data -}}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>pre</span>&gt;&lt;<span style=color:#f92672>code</span>&gt;{{ $remote_data.body }}&lt;/<span style=color:#f92672>code</span>&gt;&lt;/<span style=color:#f92672>pre</span>&gt;
</span></span><span style=display:flex><span>{{- end -}}
</span></span></code></pre></div><p>Con esto ya sólo hay que insertar el &ldquo;shortcode&rdquo; donde deseemos y se incluirá el texto dentro de un bloque de código.</p><pre tabindex=0><code>{{&lt; texto_remoto &#34;https://raw.githubusercontent.com/sherlockes/SherloScripts/master/bash/twitch2podcast.sh&#34; &gt;}}
</code></pre><blockquote><p>No es la mejor solución depender de la herramienta de un tercero para mi desarrollo pero de momento es una buena solución a un buen precio.</p></blockquote><h3 id=enlaces-de-interés>Enlaces de interés</h3><ul><li><a href=https://quinncasey.com/tools/hugo-remote-content-from-url/>Quinn Casey - Remote content in hgo</a></li></ul></div><footer class=post__footer><div class="content post__content clearfix"><h3>Otros de mís artículos que te pueden interesar</h3><ul><li><a href=/script-de-instalaci%C3%B3n-de-hugo-en-linux/>Script de instalación de Hugo en linux</a></li><li><a href=/como-a%C3%B1ado-enlaces-en-hugo/>Como añado enlaces en Hugo</a></li><li><a href=/entorno-de-desarrollo-de-sherblog-en-emacs/>Entorno de desarrollo de Sherblog en Emacs</a></li><li><a href=/lista-de-art%C3%ADculos-por-categor%C3%ADa-en-hugo/>Lista de artículos por categoría en Hugo</a></li><li><a href=/insertar-comentarios-en-hugo/>Insertar comentarios en Hugo</a></li></ul></div><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/bash/ rel=tag>bash</a></li><li class=tags__item><a class="tags__link btn" href=/tags/shortcodes/ rel=tag>shortcodes</a></li></ul></div></footer></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/como-a%C3%B1ado-enlaces-en-hugo/ rel=prev><span class=pager__subtitle>«&#8201;Anterior</span><p class=pager__title>Como añado enlaces en Hugo</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/script-de-instalaci%C3%B3n-de-hugo-en-linux/ rel=next><span class=pager__subtitle>Siguiente&#8201;»</span><p class=pager__title>Script de instalación de Hugo en linux</p></a></div></nav><div class="content post__content clearfix"><h3>Comentarios</h3>Atrás quedaron los tiempos de los comentarios en el propio blog. La ley de protección de datos y el spam pudieron con ellos. Ahora puedes plantearme cualquier duda, comentario o sugerencia en <a href=https://twitter.com/sherblogpro>@sherlockes</a> en Twitter o Telegram.</div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2022 Sherlockes.
<span class=footer__copyright-credits>Generado con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> y <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></br>Esta obra está bajo una <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>licencia de Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional</a>.</br></br><a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/><img alt="Licencia de Creative Commons" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png></a></div></div></footer></div><script async defer src=/js/menu.js></script>
<script src=/js/custom.js></script></body></html>