<!doctype html><html class=no-js lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Perímetro CENAD del BOE a gpx - Sherblog</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Que manera de perder la mañana para convertir la información del BOE en algo legible por Google Earth para delimitar el campo de maniobras de San Gregorio"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://www.sherblog.pro/images/20150427_cenad_00.jpg"><meta name=twitter:title content="Perímetro CENAD del BOE a gpx"><meta name=twitter:description content="Que manera de perder la mañana para convertir la información del BOE en algo legible por Google Earth para delimitar el campo de maniobras de San Gregorio"><meta name=twitter:creator content="@sherblogpro"><meta name=twitter:site content="sherblog.pro"><meta property="og:type" content="article"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="sherblog.pro"><meta property="og:locale" content="es_ES"><meta property="og:title" content="Perímetro CENAD del BOE a gpx"><meta property="og:url" content="https://sherlockes.github.io"><meta property="og:image" content="http://www.sherblog.pro/images/20150427_cenad_00.jpg"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><meta name=twitter:card content="summary"><meta name=twitter:title content="Perímetro CENAD del BOE a gpx"><meta name=twitter:description content="Que manera de perder la mañana para convertir la información del BOE en algo legible por Google Earth para delimitar el campo de maniobras de San Gregorio"><div class=container><div class=logo><a class=logo__link href=/ title=Sherblog rel=home><div class=logo__title>Sherblog</div><div class=logo__tagline>Sólo mi forma de hacer las cosas...</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menú</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/post/computing/emacs/><span class=menu__text>Emacs</span></a></li><li class=menu__item><a class=menu__link href=/post/computing/hugo/><span class=menu__text>Hugo</span></a></li><li class=menu__item><a class=menu__link href=/mis-v%C3%A9rtices-geod%C3%A9sicos/><span class=menu__text>Mis vértices geodésicos</span></a></li><li class=menu__item><a class=menu__link href=/post/computing/raspberry/><span class=menu__text>Raspberry Pi desde cero</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Perímetro CENAD del BOE a gpx</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-04-30T00:00:00Z>2015-04-30</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/gps/ rel=category>gps</a></span></div></div></header><figure class="post__thumbnail thumbnail"><img class=thumbnail__image src=/images/20150427_cenad_00.jpg alt="Perímetro CENAD del BOE a gpx"></figure><div class="content post__content clearfix"><p>Todos los que circulen por la zona de Zaragoza con la bicicleta de montaña serán conocedores de que justo al norte de la capital aragonesa se encuentra situado el <a href=http://www.ejercito.mde.es/unidades/Zaragoza/cenad_san_gregorio/>Centro de Adiestramiento &ldquo;San Gregorio&rdquo; CENAD</a> también conocido como &ldquo;Campo de maniobras&rdquo; donde los militares hacen sus entrenamientos poniéndose más o menos pesados al invadir su intimidad.</p><p>Pues bien, antes de planificar una ruta en btt por la zona he intentado buscar en la web el perímetro que delimita este campo de maniobras para invadirlo lo menos posible y cual ha sido mi sorpresa al ver que hay muy poca información al respecto y la que hay es poco concreta o anticuada como <a href="http://www.aragondigital.es/noticia.asp?notid=52971&secid=9">esta</a> o incluso errónea como <a href="https://www.google.com/maps/d/viewer?oe=UTF8&t=h&ie=UTF8&msa=0&mid=zqEb_NDewauk.k2Ikn_Gmtsb0">esta</a> otra.</p><p>Sigo buscando un rato más y al fin encuentro algo veraz y actualizado en el BOE (De casualidad y gracias a San Google) aunque cierto es que a priori un poco complicado de interpretar. El resultado de mi búsqueda es un archivo <a href=http://www.boe.es/boe/dias/2014/07/05/pdfs/BOE-A-2014-7081.pdf>pdf</a> del 5 de Julio de 2014 en el que se delimita el perímetro de la propiedad denominada Campo de Tiro y de Maniobras de San Gregorio en Zaragoza.</p><p>Para la planificación de mis rutas utiliza habitualmente <a href=https://www.google.es/intl/es/earth/index.html>Google Earth</a> y por desgracia, sus programadores, no lo han dotado de la capacidad para abrir archivos del BOE por lo que me armo de paciencia para intentar convertir el texto del boletín oficial del estado en un archivo gpx con xml estructurado que pueda leer el programa. Además, para hacerlo un poco más divertido me comprometo ha hacerlo con herramientas gratuitas y libres a la mano de cualquiera.</p><p>Y aquí está el punto de partida de mi reto, una tabla con valores de coordenadas UTM Huso30 WGS 84 insertada dentro de un archivo pdf que tendré que convertir en un archivo gpx con coordenadas geodésicas.</p><p><img src=/images/20150427_cenad_01.jpg alt=imagen></p><p>Por suerte los editores del BOE tienen un poco de dignidad y hacen un documento en el que es posible seleccionar el texto para hacer un archivo *.txt fácilmente editable como el siguiente.</p><pre tabindex=0><code>cve: BOE-A-2014-7081
BOLETÍN OFICIAL DEL ESTADO
Núm. 163  Sábado 5 de julio de 2014  Sec. III. Pág. 52798
Denominación punto X Y
Z047 675090,569 4627665,073
Z048 675137,937 4627826,621
Z049 675166,609 4627975,314
Z050 675184,113 4628119,577
Z051 675197,651 4628241,553
Z052 675152,768 4628438,348
Z053 675129,485 4628563,702
Z054 675111,51 4628721,206
Z055 675103,764 4628841,755
Z056 675102,69 4628993,574
Z057 675100,048 4629067,546
</code></pre><p>Para la edición de texto utilizo <a href=http://notepad-plus-plus.org>Notepad++</a>. Quitamos las líneas de texto que no corresponden a valores de coordenadas y cambiamos los espacios por asteriscos para poder importar el archivo a una hoja de cálculo</p><pre tabindex=0><code>Z047*675090,569*4627665,073
Z048*675137,937*4627826,621
Z049*675166,609*4627975,314
Z050*675184,113*4628119,577
Z051*675197,651*4628241,553
Z052*675152,768*4628438,348
Z053*675129,485*4628563,702
Z054*675111,51*4628721,206
Z055*675103,764*4628841,755
Z056*675102,69*4628993,574
Z057*675100,048*4629067,546
</code></pre><p>Este archivo ya es fácilmente importable por cualquier editor de hojas de cálculo, en mi caso he utilizado <a href=https://www.google.com/intl/es_es/drive/>google drive</a> para crear la siguiente hoja, a la que le añado tres columnas. Una con &ldquo;0&rdquo; para que no se atragante en conversor, una con un &ldquo;30&rdquo; correspondiente al huso horario y otra con un &ldquo;1&rdquo; por tratarse del hemisferio norte.</p><p><img src=/images/20150427_cenad_02.jpg alt=imagen></p><p>Con todo lo anterior, ya podemos exportar nuestra hoja de cálculo a un archivo de texto *.tsv en el que los valores de las distintas coordenadas están separados por tabulaciones.</p><pre tabindex=0><code>Z049    675166,609  4627975,314 0   30  1
Z050    675184,113  4628119,577 0   30  1
Z051    675197,651  4628241,553 0   30  1
Z052    675152,768  4628438,348 0   30  1
Z053    675129,485  4628563,702 0   30  1
Z054    675111,51   4628721,206 0   30  1
Z055    675103,764  4628841,755 0   30  1
Z056    675102,69   4628993,574 0   30  1
Z057    675100,048  4629067,546 0   30  1
Z058    675077,706  4629263,552 0   30  1
Z059    675058,658  4629322,642 0   30  1
</code></pre><p>Después de todo este acondicionamiento, ya estamos listos para convertir las coordenadas UTM a geodésicas para lo que utilizo una simple <a href=http://enmaderal.jimdo.com/descargas/calculadora-utm/>calculadora</a> &ldquo;Made in Spain&rdquo; creada por <a href=http://enmaderal.jimdo.com>Eduardo Núnez Maderal</a>.</p><p><img src=/images/20150427_cenad_03.jpg alt=imagen></p><p>Tras un rato luchando con el conversor por que se quedaba colgado a mitad de la conversión, me doy cuenta de que hasta los del BOE se equivocan ya que se han olvidado de colocar las separaciones decimales de varias coordenadas como se puede ver a continuación.</p><p><img src=/images/20150427_cenad_04.jpg alt=imagen></p><p>Y solventados estos errores que me han hecho perder algún tiempo ya tenemos un archivo de texto con las coordenadas geodésicas.</p><pre tabindex=0><code>Nº  |   Long(ºsexag.)   |   Lat(ºsexag.)| altitud (h) 
---------------------------------------------------------
 Z047    -0.89307542        +41.78152426        49.8381
 Z048    -0.89245817        +41.78296789        49.8401
 Z049    -0.89206951        +41.78429993        49.8417
 Z050    -0.89181645        +41.78559456        49.8432
 Z051    -0.89161765        +41.78668946        49.8444
 Z052    -0.89209939        +41.78847070        49.8455
 Z053    -0.89234243        +41.78960414        49.8463
 Z054    -0.89251216        +41.79102579        49.8528
 Z055    -0.89256977        +41.79211255        49.8540
 Z056    -0.89253791        +41.79347929        49.8556
 Z057    -0.89254787        +41.79414569        49.8563
</code></pre><p>Limpiamos el texto sobrante para dejar sólo las coordenadas, convertimos el doble espaciado en simple recursivamente y los resultantes los sustituimos por * para una fácil importación por la hoja de cálculo. El resultado queda como el siguiente.</p><pre tabindex=0><code class=language-*Z047*-0.89307542*+41.78152426*49.8381 data-lang=*Z047*-0.89307542*+41.78152426*49.8381>*Z048*-0.89245817*+41.78296789*49.8401
*Z049*-0.89206951*+41.78429993*49.8417
*Z050*-0.89181645*+41.78559456*49.8432
*Z051*-0.89161765*+41.78668946*49.8444
*Z052*-0.89209939*+41.78847070*49.8455
*Z053*-0.89234243*+41.78960414*49.8463
*Z054*-0.89251216*+41.79102579*49.8528
*Z055*-0.89256977*+41.79211255*49.8540
*Z056*-0.89253791*+41.79347929*49.8556
*Z057*-0.89254787*+41.79414569*49.8563
</code></pre><p>Lo convertimos en hoja de cálculo y añadimos columnas con la estructura propia de los archivos gpx</p><p><img src=/images/20150427_cenad_05.jpg alt=imagen></p><p>Exportamos a un archivo separado por tabulaciones</p><pre tabindex=0><code>&amp;lt;trkpt lat=&#34;    +41.73072960    &#34; lon=&#34; -0,85392959 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73188476    &#34; lon=&#34; -0,85490983 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73339488    &#34; lon=&#34; -0,85573529 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73475548    &#34; lon=&#34; -0,85634502 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73604644    &#34; lon=&#34; -0,85684217 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73736603    &#34; lon=&#34; -0,85771758 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73857892    &#34; lon=&#34; -0,85869591 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.73992066    &#34; lon=&#34; -0,85948338 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.74134432    &#34; lon=&#34; -0,85993705 &#34;/&gt;
&amp;lt;trkpt lat=&#34;    +41.74289547    &#34; lon=&#34; -0,86025098 &#34;/&gt;
</code></pre><p>Eliminamos las tabulaciones, añadimos el encabezado del archivo gpx y el del track y así queda el resultado.</p><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; standalone=&#34;no&#34;?&gt;
&amp;lt;gpx version=&#34;1.1&#34; creator=&#34;Sherlockes http://www.sherblog.es&#34; 
xmlns=&#34;http://www.topografix.com/GPX/1/1&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; 
xsi:schemaLocation=&#34;http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd&#34;&gt;
    &amp;lt;trk&gt;
      &amp;lt;name&gt;Perimetro San Gregorio&amp;lt;/name&gt;
        &amp;lt;trkseg&gt;
            &amp;lt;trkpt lat=&#34;+41.73072960&#34; lon=&#34;-0.85392959&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73188476&#34; lon=&#34;-0.85490983&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73339488&#34; lon=&#34;-0.85573529&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73475548&#34; lon=&#34;-0.85634502&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73604644&#34; lon=&#34;-0.85684217&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73736603&#34; lon=&#34;-0.85771758&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73857892&#34; lon=&#34;-0.85869591&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.73992066&#34; lon=&#34;-0.85948338&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.74134432&#34; lon=&#34;-0.85993705&#34;/&gt;
            &amp;lt;trkpt lat=&#34;+41.74289547&#34; lon=&#34;-0.86025098&#34;/&gt;
        &amp;lt;/trkseg&gt;
    &amp;lt;/trk&gt;
&amp;lt;/gpx&gt;
</code></pre><p>Sobre google earth, este es el resultado</p><p><img src=/images/20150427_cenad_05.jpg alt=imagen></p><p><a href=/files/perimetro_cenad_san_gregorio.gpx>Descargar el archivo formato gpx</a></p><p><a href=/files/perimetro_cenad_san_gregorio.kml>Descargar el archivo formato Google Earth</a></p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/liquido-anti-pinchazos-casero.-pros-y-contras/ rel=prev><span class=pager__subtitle>«&#8201;Anterior</span><p class=pager__title>Liquido anti-pinchazos casero. Pros y contras</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/migrando-wordpress-a-otro-servidor/ rel=next><span class=pager__subtitle>Siguiente&#8201;»</span><p class=pager__title>Migrando WordPress a otro servidor</p></a></div></nav><div class="content post__content clearfix"><h3>Comentarios</h3>Atrás quedaron los tiempos de los comentarios en el propio blog. La ley de protección de datos y el spam pudieron con ellos. Ahora puedes plantearme cualquier duda, comentario o sugerencia en <a href=https://twitter.com/sherblogpro>@sherlockes</a> en Twitter o Telegram.</div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2022 Sherlockes.
<span class=footer__copyright-credits>Generado con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> y <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></br>Esta obra está bajo una <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>licencia de Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional</a>.</br></br><a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/><img alt="Licencia de Creative Commons" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png></a></div></div></footer></div><script async defer src=/js/menu.js></script>
<script src=/js/custom.js></script></body></html>