<!doctype html><html class=no-js lang=es>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Encender el Nas desde el teléfono - Sherblog</title>
<script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script>
<meta name=description content="Aquí describo el método que empleo para encender el NAS cuando no estoy cerca del botón de encendido del mismo.">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="http://www.sherblog.pro/images/20200905_encender_nas_android_00.jpg">
<meta name=twitter:title content="Encender el Nas desde el teléfono">
<meta name=twitter:description content="Aquí describo el método que empleo para encender el NAS cuando no estoy cerca del botón de encendido del mismo.">
<meta name=twitter:creator content="@sherblogpro">
<meta name=twitter:site content="sherblog.pro">
<link rel=dns-prefetch href=//fonts.googleapis.com>
<link rel=dns-prefetch href=//fonts.gstatic.com>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/custom.css>
<link rel="shortcut icon" href=/favicon.ico>
</head>
<body class=body>
<div class="container container--outer">
<header class=header>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Encender el Nas desde el teléfono">
<meta name=twitter:description content="Aquí describo el método que empleo para encender el NAS cuando no estoy cerca del botón de encendido del mismo.">
<div class=container>
<div class=logo>
<a class=logo__link href=/ title=Sherblog rel=home>
<div class=logo__title>Sherblog</div>
<div class=logo__tagline>Sólo mi forma de hacer las cosas...</div>
</a>
</div>
<nav class=menu>
<button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menú</span>
</button>
<ul class=menu__list>
<li class=menu__item>
<a class=menu__link href=/mis-v%C3%A9rtices-geod%C3%A9sicos/>
<span class=menu__text>Mis vértices geodésicos</span>
</a>
</li>
<li class=menu__item>
<a class=menu__link href=/post/computing/raspberry/>
<span class=menu__text>Raspberry Pi desde cero</span>
</a>
</li>
<li class=menu__item>
<a class=menu__link href=/post/android/tasker/>
<span class=menu__text>Tasker</span>
</a>
</li>
</ul>
</nav>
</div>
</header>
<div class="wrapper flex">
<div class=primary>
<main class=main role=main>
<article class=post>
<header class=post__header>
<h1 class=post__title>Encender el Nas desde el teléfono</h1>
<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-09-05T00:00:00Z>2020-09-05</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/productividad/ rel=category>productividad</a>, <a class=meta__link href=/categories/sherver/ rel=category>sherver</a>
</span>
</div></div>
</header>
<figure class=post__thumbnail>
<img src=/images/20200905_encender_nas_android_00.jpg alt="Encender el Nas desde el teléfono">
</figure><div class="content post__content clearfix">
<p>Tener el NAS encendido todo el día puede ser un gasto innecesario. El mío se enciende de forma automática las horas necesarias para las copias de seguridad y lo enciendo de forma remota desde mi teléfono si lo necesito de forma puntual fuera de este horario.</p>
<p>Hay veces en las que necesito hacer uso del NAS cuando estoy fuera de casa. Para encenderlo hago uso del método &ldquo;wakeonlan&rdquo; desde mi teléfono Android y usando como puente la Raspberry.</p>
<h2 id=configuración-del-nas>Configuración del NAS</h2>
<p>Como ya he comentado en otras ocasiones, trabajo con un DS216+II de Synology y actualmente estoy con la versión 6.2 de DSM. para permitir el encendido remoto del NAS se debera activar la opción &ldquo;Habilitar WOL en LAN&rdquo; que podremos encontrar dentro del panel de control, Hardware y alimentación, Recuperación de energía.</p>
<p><img src=/images/20200905_encender_nas_android_01.jpg alt=Image_01></p>
<p>Del NAS además necesito saber la dirección MAC del mismo. Uso linux y para estas labores es muy práctico <a href=https://nmap.org>nmap</a> ya que con la simple instrucción <code>sudo nmap -sP -n ip_del_nas</code> puedo obtener la dirección MAC de un equipo a partir de su IP.</p>
<p><img src=/images/20200905_encender_nas_android_02.jpg alt=Image_02></p>
<h2 id=configuración-de-la-raspberry>Configuración de la Raspberry</h2>
<p>Deberá tener activado el servidor ssh. En caso de que utilices la Raspberry en modo &ldquo;Headless&rdquo; sin teclado ni monitor ya lo tendrás activado, si la usas en modo escritorio quizás no, para activarlo&mldr;</p>
<ul>
<li>Ejecuta <code>sudo raspi-config</code> en la terminal</li>
<li>Selecciona &ldquo;Interfacing Options&rdquo;</li>
<li>Selecciona &ldquo;SSH&rdquo;</li>
<li>Marca &ldquo;Yes&rdquo;</li>
<li>Marca &ldquo;Ok&rdquo;</li>
<li>Selecciona &ldquo;Finish&rdquo;</li>
</ul>
<p>Por su sencillez, uso Zerotier como túnel de comunicación para cuando deseo trabajar con ella desde fuera de casa. La instalación y configuración la la traté en un <a href=/primeros-pasos-con-zerotier/>Post</a> anterior. La instalación y configuración son sólo dos líneas, la primera para inatalar ZeroTier en la Raspberry y la segunda para añadir esta a la res privada que deberemos haber creado en <a href=https://my.zerotier.com/network>My ZeroTier</a>.</p>
<pre tabindex=0><code>curl -s https://install.zerotier.com/ | sudo bash
sudo zerotier-cli join 78898a1265hfg34b
</code></pre><p>Para lanzar el comando &ldquo;wakeonlan&rdquo; que despierte al NAS uso la aplicación <a href=https://packages.debian.org/stable/net/etherwake>Etherwake</a>, su instalación es tan sencilla como <code>sudo apt install etherwake</code></p>
<h2 id=configuración-de-android>Configuración de Android</h2>
<p>Esta claro que en el teléfono deberá estar instalado Zerotier con la misma red virtual en la que se haya incluido la Raspberry. En el momento de la utilización deberá estar activa la conexión de Zerotier.</p>
<p>Para lanzar el comando desde el teléfono uso la aplicación <a href="https://play.google.com/store/apps/details?id=com.pd7l.sshbutton&hl=en_US">SSH Button</a>. En primer lugar crearemos un nuevo botón donde&mldr;</p>
<p><img src=/images/20200905_encender_nas_android_03.jpg alt=Image_03></p>
<ul>
<li>Label: Nombre que pondremos al botón</li>
<li>Command: Comando que lanzará, en nuestro caso <code>wakeonlan MAC</code></li>
<li>SSH hostname: Dirección IP de la Raspberry</li>
<li>SSH username: Nombre de usuario para acceder a la Raspberry</li>
<li>SSH pasword: Contraseña pra el usuario de arriba</li>
<li>Use private Key: No tocar, de momento nos apañamos con el nombre de usuario</li>
<li>Sel Private Key: No tocar, de momento nos apañamos con el nombre de usuario</li>
<li>SSH port: Puerto que la Raspberry tiene configurado para SSH</li>
</ul>
<p>Con esto ya tenemos todo configurado y encender el NAS en remoto deberá ser tan sencillo como habilitar la red de ZeroTier y pulsar en el botón del comando. Yo me he creado pun par de botones, uno para cuando estoy dentro de la misma red que el NAS y otro para cuando estoy fuera. Quizás esto se pueda mejorar, pero ya para otro día&mldr;</p>
<p><img src=/images/20200905_encender_nas_android_04.jpg alt=Image_04></p>
</div>
<footer class=post__footer>
<div class="content post__content clearfix">
<h3>Otros de mís artículos que te pueden interesar</h3>
<ul>
<li><a href=/rclone-en-synology/>Rclone en Synology</a></li>
<li><a href=/usando-un-tunel-ssh-para-aceder-a-un-servidor-remoto/>Usando un tunel ssh para aceder a un servidor remoto</a></li>
<li><a href=/synology-no-actualiza-por-el-espacio-de-la-partici%C3%B3n-del-sistema/>Synology no actualiza por el espacio de la partición del sistema</a></li>
<li><a href=/instalar-rclone-en-synology-ds920-/>Instalar rclone en Synology Ds920+</a></li>
<li><a href=/home-assistant-wake-on-lan-synology/>Home Assistant - Wake on Lan Synology</a></li>
</ul>
</div>
<div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg>
<ul class=tags__list>
<li class=tags__item>
<a class="tags__link btn" href=/tags/synology/ rel=tag>synology</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/tags/zerotier/ rel=tag>zerotier</a>
</li>
</ul>
</div>
</footer>
</article>
</main>
<nav class="post-nav flex">
<div class="post-nav__item post-nav__item--prev">
<a class=post-nav__link href=/men%C3%BA-para-montar-nubes-en-bash/ rel=prev><span class=post-nav__caption>«&#8201;Anterior</span><p class=post-nav__post-title>Menú para montar nubes en Bash</p></a>
</div>
<div class="post-nav__item post-nav__item--next">
<a class=post-nav__link href=/como-descargar-el-icono-de-un-servicio-web/ rel=next><span class=post-nav__caption>Siguiente&#8201;»</span><p class=post-nav__post-title>Como descargar el icono de un servicio web</p></a>
</div>
</nav>
</div>
</div>
<footer class=footer>
<div class="container footer__container flex">
<div class=footer__copyright>
&copy; 2022 Sherblog.
<span class=footer__copyright-credits>Generado con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> y <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span>
</div>
</div>
</footer>
</div>
<script async defer src=/js/menu.js></script>
<script src=/js/custom.js></script></body>
</html>